{"version":3,"file":"index.js","mappings":"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","sources":["webpack://dynamic-block/./src/edit.js","webpack://dynamic-block/./src/index.js","webpack://dynamic-block/./src/editor.scss","webpack://dynamic-block/./src/style.scss","webpack://dynamic-block/external window \"React\"","webpack://dynamic-block/external window [\"wp\",\"blockEditor\"]","webpack://dynamic-block/external window [\"wp\",\"blocks\"]","webpack://dynamic-block/external window [\"wp\",\"components\"]","webpack://dynamic-block/external window [\"wp\",\"data\"]","webpack://dynamic-block/external window [\"wp\",\"date\"]","webpack://dynamic-block/external window [\"wp\",\"element\"]","webpack://dynamic-block/external window [\"wp\",\"i18n\"]","webpack://dynamic-block/webpack/bootstrap","webpack://dynamic-block/webpack/runtime/chunk loaded","webpack://dynamic-block/webpack/runtime/compat get default export","webpack://dynamic-block/webpack/runtime/define property getters","webpack://dynamic-block/webpack/runtime/hasOwnProperty shorthand","webpack://dynamic-block/webpack/runtime/make namespace object","webpack://dynamic-block/webpack/runtime/jsonp chunk loading","webpack://dynamic-block/webpack/before-startup","webpack://dynamic-block/webpack/startup","webpack://dynamic-block/webpack/after-startup"],"sourcesContent":["import {__} from '@wordpress/i18n';\nimport {useBlockProps, InspectorControls} from '@wordpress/block-editor';\nimport {useSelect} from '@wordpress/data';\nimport {RawHTML} from '@wordpress/element';\nimport {dateI18n, format, __experimentalGetSettings} \nfrom '@wordpress/date';\nimport { useState } from 'react';\nimport { \n\tSpinner , \n\tTextControl, \n\tPanel, \n\tPanelBody, \n\tPanelRow, \n\tRadioControl,\n\tSelectControl,\n\tToggleControl,\n\tCheckboxControl\n } from '@wordpress/components';\nimport './editor.scss';\nimport React from 'react';\n\n/**\n * Edit function for the dynamic block.\n *\n * @param   { Object }   props   Block props.\n * @returns  { JSX.Element }\n * @see https://developer.wordpress.org/block-editor/developers/block-api/block-edit-save/#edit\n */\n\nexport default function Edit({attributes, setAttributes}) {\n  const {postsPerPage, order , category , author} = attributes;\n\n  // Events\n  function onChangepostsPerPage(newpostsPerPage) {\n\t    setAttributes({postsPerPage: newpostsPerPage});\n  }\n  function onChangeOrder(newOrder) {\n\t    setAttributes({order: newOrder});\n  }\n  function onChangeCategory(newCategory) {\n\t    setAttributes({category: newCategory});\n  }\n  function onChangeAuthor(newAuthor) {\n\t    setAttributes({author: newAuthor});\n  }\n\n\n\n  //End Events\n\n  const posts = useSelect((select) => {\n    return select('core').getEntityRecords('postType', 'post', {'per_page': postsPerPage});\n    [postsPerPage]\n  });\n // get all categories\n  const categories = useSelect((select) => {\n    return select('core').getEntityRecords('taxonomy', 'category', {'per_page': -1});\n  });\n  // get all authors\n  const authors = useSelect((select) => {\n    return select('core').getEntityRecords('taxonomy', 'author', {'per_page': -1});\n  });\n  // order\n  \n  \n \n\n  const blockProps = useBlockProps();7\n  if (!posts) {\n    return(<>\n    <Spinner />;\n    <p>{__('Loading...')}</p>\n        </>) \n  }\t\n  if (0 === posts.length) {\n    return <p>{__('No posts')}</p>;\n  }\n\n   return (\n    <div {... blockProps  }>\n\t <InspectorControls>\n\t\t<Panel header=\"Post Settings\">\n\t\t\t<PanelBody title=\"Number of Posts\" initialOpen={true}>\n\t\t\t\t{/* Number of Posts */}\n\t\t\t\t<PanelRow\n\t\t\t\t\theading=\"Number of Posts\"\n\t\t\t\t\tdescription=\"How many posts should be displayed?\"\n\t\t\t\t>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel=\"Number of Posts\"\n\t\t\t\t\t\tvalue={postsPerPage}\n\t\t\t\t\t\tonChange={onChangepostsPerPage}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t{/* Order */}\n\t\t\t\t<PanelRow\n\t\t\t\t\theading=\"Order\"\n\t\t\t\t\tdescription=\"How should the posts be ordered?\"\n\t\t\t\t>\n\t\t\t\t\t<RadioControl\t\n\t\t\t\t\t\tlabel=\"Order\"\n\t\t\t\t\t\tselected={order}\n\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t{ label: 'Ascending', value: 'ASC' },\n\t\t\t\t\t\t\t{ label: 'Descending', value: 'DESC' },\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tonChange={(order)=>{\n\t\t\t\t\t\t\tsetAttributes({order: order});git \n\t\t\t\t\t\t}}\n\t\t\t\t\t\t\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t{/* Category SELECT */}\n\t\t\t\t<PanelRow\n\t\t\t\t\theading=\"Category\"\n\t\t\t\t\tdescription=\"Select a category\"\n\t\t\t\t>\n\t\t\t\t\t\n\t\t\t{/** Here I need to mak a multiple choice select */}\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tlabel=\"Category\"\n\t\t\t\t\t\tvalue={category}\n\t\t\t\t\t\tmultiple\n\t\t\t\t\t\tonChange={()=>setAttributes({category: category})}\n\t\t\t\t\t\toptions={categories.map((category) => ({\n\t\t\t\t\t\t\tlabel: category.name,\n\t\t\t\t\t\t\tvalue: category.id,\n\t\t\t\t\t\t}))}\n\t\t\t\t\t/>\n\n\n\t\n\t\t\t\t\t\n\t\t\t\t\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow\n\t\t\t\t\theading=\"Order\"\n\t\t\t\t\tdescription=\"How should the posts be ordered?\"\n\t\t\t\t>\n\t\t\t\t\t<ToggleControl \n\t\t\t\t\tlabel=\"Order\"\n\t\t\t\t\tchecked={'desc' === order}\n\t\t\t\t\tonChange={onChangeOrder}\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t\t\n\n\t\t\t\t\n\t\t\t</PanelBody>\n\t\t\t</Panel>\n\t \n\t  \n\t </InspectorControls>\n\n<h1>The plugin</h1>\n\n\t \n\t\n\t\n\t\n\t\n    </div>\n\n  );\n}\n","/**\n * Registers a new block provided a unique name and an object defining its behavior.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-registration/\n */\nimport { registerBlockType } from '@wordpress/blocks';\n\n/**\n * Lets webpack process CSS, SASS or SCSS files referenced in JavaScript files.\n * All files containing `style` keyword are bundled together. The code used\n * gets applied both to the front of your site and to the editor.\n *\n * @see https://www.npmjs.com/package/@wordpress/scripts#using-css\n */\nimport './style.scss';\n\n/**\n * Internal dependencies\n */\nimport Edit from './edit';\nimport metadata from './block.json';\n\n/**\n * Every block starts by registering a new block type definition.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-registration/\n */\nregisterBlockType( metadata.name, {\n\t/**\n\t * @see ./edit.js\n\t */\n\tedit: Edit,\n} );\n","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"React\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"date\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"index\": 0,\n\t\"./style-index\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = globalThis[\"webpackChunkdynamic_block\"] = globalThis[\"webpackChunkdynamic_block\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"./style-index\"], () => (__webpack_require__(\"./src/index.js\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["__","useBlockProps","InspectorControls","useSelect","RawHTML","dateI18n","format","__experimentalGetSettings","useState","Spinner","TextControl","Panel","PanelBody","PanelRow","RadioControl","SelectControl","ToggleControl","CheckboxControl","React","Edit","attributes","setAttributes","postsPerPage","order","category","author","onChangepostsPerPage","newpostsPerPage","onChangeOrder","newOrder","onChangeCategory","newCategory","onChangeAuthor","newAuthor","posts","select","getEntityRecords","categories","authors","blockProps","createElement","Fragment","length","header","title","initialOpen","heading","description","label","value","onChange","selected","options","git","multiple","map","name","id","checked","registerBlockType","metadata","edit"],"sourceRoot":""}